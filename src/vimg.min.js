/**
 * VImg - HTML Image (.vimg) Viewer 
 * @author Maciej DÄ™bowski
 */
 
!async function(){window._vimg={version:"1.0.0",deprecated:!1},document.querySelectorAll("v-img").forEach(async function(t){const e=t.getAttribute("src"),c=document.createElement("canvas"),i=c.getContext("2d");t.appendChild(c);const n=(await(await fetch(`${window.location.origin}/${e}`)).text()).split(";"),o=n[0],a=n[1];c.width=o,c.height=a,n.splice(2,n.length-1).forEach(function(t,e){const c=Math.floor(e/o),n=e%o;i.fillStyle=t,i.fillRect(n,c,1,1)})}),document.querySelectorAll("v-gif").forEach(async function(t){const e=t.getAttribute("src"),c=document.createElement("canvas"),i=c.getContext("2d");t.appendChild(c);const n=await(await fetch(`${window.location.origin}/${e}`)).text(),o=n.split(";"),a=o[0],l=o[1],r=o[2];c.width=a,c.height=l;const s=n.split("framestart");s.splice(0,1),s.forEach((t,e)=>s[e]=t.replace(/\r\n/g,"")),s.forEach((t,e)=>{setTimeout(()=>{i.clearRect(0,0,1e4,1e4);const e=t.split(";");e.splice(0,1),e.forEach((t,e)=>{const c=Math.floor(e/a),n=e%a;i.fillStyle=t,i.fillRect(n,c,1,1)})},1e3*e/r)})})}();